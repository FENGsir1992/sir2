# WZ工作流系统生产环境配置示例
# 复制此文件为 .env.production 并根据您的生产环境调整配置

# ================================================
# 基础配置
# ================================================
NODE_ENV=production
PORT=3001

# ================================================
# 安全配置 - 生产环境必须修改！
# ================================================
# JWT密钥 - 必须使用强密钥！
JWT_SECRET=CHANGE-THIS-TO-A-SECURE-RANDOM-STRING-IN-PRODUCTION
# JWT过期时间
JWT_EXPIRES_IN=7d
# BCrypt加密轮次（生产环境建议12）
BCRYPT_ROUNDS=12

# ================================================
# 数据库配置
# ================================================
DATABASE_URL=/app/backend/data/database.sqlite
DATABASE_POOL_MIN=5
DATABASE_POOL_MAX=20
DATABASE_ACQUIRE_TIMEOUT=30000
DATABASE_IDLE_TIMEOUT=300000

# ================================================
# CORS和前端配置
# ================================================
FRONTEND_URL=https://your-domain.com
CORS_ORIGIN=https://your-domain.com

# ================================================
# 日志配置
# ================================================
LOG_LEVEL=info

# ================================================
# Redis配置
# ================================================
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=CHANGE-THIS-REDIS-PASSWORD

# ================================================
# 文件上传配置
# ================================================
MAX_FILE_SIZE=200
UPLOAD_PATH=/app/backend/uploads

# ================================================
# 管理员配置
# ================================================
ADMIN_EMAILS=admin@your-domain.com

# ================================================
# 监控配置
# ================================================
GRAFANA_PASSWORD=CHANGE-THIS-GRAFANA-PASSWORD

# ================================================
# SSL配置
# ================================================
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# ================================================
# 邮件配置
# ================================================
SMTP_HOST=smtp.your-provider.com
SMTP_PORT=587
SMTP_USER=your-email@your-domain.com
SMTP_PASS=your-email-password
SMTP_FROM=noreply@your-domain.com

# ================================================
# 第三方服务配置
# ================================================
# 对象存储配置（阿里云OSS/AWS S3等）
OSS_ACCESS_KEY_ID=your-oss-access-key
OSS_ACCESS_KEY_SECRET=your-oss-secret-key
OSS_BUCKET=your-bucket-name
OSS_REGION=your-region

# CDN配置
CDN_DOMAIN=https://cdn.your-domain.com

# 支付配置
PAYMENT_PROVIDER=alipay
PAYMENT_API_KEY=your-payment-api-key
PAYMENT_SECRET_KEY=your-payment-secret-key

# 微信支付（V3）
WECHAT_PAY_APPID=your-wechatpay-appid
WECHAT_PAY_MCHID=your-mchid
WECHAT_PAY_SERIAL_NO=your-cert-serial-no
WECHAT_PAY_PRIVATE_KEY_PATH=/app/backend/certs/wechatpay/apiclient_key.pem
WECHAT_PAY_APIV3_KEY=your-apiv3-key-32-chars
WECHAT_PAY_NOTIFY_URL=https://your-domain.com/api/pay/wechat/callback
# 可选：用于回调验签（强烈建议配置）
WECHAT_PAY_PLATFORM_CERT_PATH=/app/backend/certs/wechatpay/wechatpay_platform_public.pem

# 支付宝
ALIPAY_APP_ID=your-alipay-appid
ALIPAY_PRIVATE_KEY_PATH=/app/backend/certs/alipay/app_private_key.pem
ALIPAY_PUBLIC_KEY_PATH=/app/backend/certs/alipay/alipay_public_key.pem
ALIPAY_NOTIFY_URL=https://your-domain.com/api/pay/alipay/notify
ALIPAY_RETURN_URL=https://your-domain.com/orders
ALIPAY_GATEWAY=
ALIPAY_USE_SANDBOX=false

# ================================================
# 微信配置
# ================================================
WECHAT_APPID=your-wechat-appid
WECHAT_SECRET=your-wechat-secret
WECHAT_TOKEN=your-wechat-token
WECHAT_ENCODING_AES_KEY=your-wechat-aes-key

